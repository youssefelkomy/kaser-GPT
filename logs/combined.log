{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-21T22:45:35.373Z"}
{"level":"error","message":"Failed to connect to MongoDB: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"kaser-shard-00-00.y0ewo.mongodb.net:27017":{"$clusterTime":null,"address":"kaser-shard-00-00.y0ewo.mongodb.net:27017","arbiters":[],"electionId":null,"error":{},"hosts":[],"iscryptd":false,"lastUpdateTime":24770894,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"kaser-shard-00-01.y0ewo.mongodb.net:27017":{"$clusterTime":null,"address":"kaser-shard-00-01.y0ewo.mongodb.net:27017","arbiters":[],"electionId":null,"error":{},"hosts":[],"iscryptd":false,"lastUpdateTime":24770895,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"kaser-shard-00-02.y0ewo.mongodb.net:27017":{"$clusterTime":null,"address":"kaser-shard-00-02.y0ewo.mongodb.net:27017","arbiters":[],"electionId":null,"error":{},"hosts":[],"iscryptd":false,"lastUpdateTime":24771009,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-10q11d-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (D:\\Kaser\\node_modules\\mongoose\\lib\\connection.js:1110:11)\n    at NativeConnection.openUri (D:\\Kaser\\node_modules\\mongoose\\lib\\connection.js:1041:11)\n    at async setupDatabase (D:\\Kaser\\src\\database\\connections.js:6:9)\n    at async startBot (D:\\Kaser\\src\\index.js:13:9)","timestamp":"2025-01-21T22:45:40.636Z"}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-21T22:46:12.215Z"}
{"level":"error","message":"Failed to connect to MongoDB: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"kaser-shard-00-00.y0ewo.mongodb.net:27017":{"$clusterTime":null,"address":"kaser-shard-00-00.y0ewo.mongodb.net:27017","arbiters":[],"electionId":null,"error":{},"hosts":[],"iscryptd":false,"lastUpdateTime":24807348,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"kaser-shard-00-01.y0ewo.mongodb.net:27017":{"$clusterTime":null,"address":"kaser-shard-00-01.y0ewo.mongodb.net:27017","arbiters":[],"electionId":null,"error":{},"hosts":[],"iscryptd":false,"lastUpdateTime":24808111,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"kaser-shard-00-02.y0ewo.mongodb.net:27017":{"$clusterTime":null,"address":"kaser-shard-00-02.y0ewo.mongodb.net:27017","arbiters":[],"electionId":null,"error":{},"hosts":[],"iscryptd":false,"lastUpdateTime":24808014,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-10q11d-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (D:\\Kaser\\node_modules\\mongoose\\lib\\connection.js:1110:11)\n    at NativeConnection.openUri (D:\\Kaser\\node_modules\\mongoose\\lib\\connection.js:1041:11)\n    at async setupDatabase (D:\\Kaser\\src\\database\\connections.js:6:9)\n    at async startBot (D:\\Kaser\\src\\index.js:13:9)","timestamp":"2025-01-21T22:46:17.373Z"}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-21T22:46:51.988Z"}
{"level":"error","message":"Failed to connect to MongoDB: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"kaser-shard-00-00.y0ewo.mongodb.net:27017":{"$clusterTime":null,"address":"kaser-shard-00-00.y0ewo.mongodb.net:27017","arbiters":[],"electionId":null,"error":{},"hosts":[],"iscryptd":false,"lastUpdateTime":24847438,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"kaser-shard-00-01.y0ewo.mongodb.net:27017":{"$clusterTime":null,"address":"kaser-shard-00-01.y0ewo.mongodb.net:27017","arbiters":[],"electionId":null,"error":{},"hosts":[],"iscryptd":false,"lastUpdateTime":24847670,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"kaser-shard-00-02.y0ewo.mongodb.net:27017":{"$clusterTime":null,"address":"kaser-shard-00-02.y0ewo.mongodb.net:27017","arbiters":[],"electionId":null,"error":{},"hosts":[],"iscryptd":false,"lastUpdateTime":24847394,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-10q11d-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (D:\\Kaser\\node_modules\\mongoose\\lib\\connection.js:1110:11)\n    at NativeConnection.openUri (D:\\Kaser\\node_modules\\mongoose\\lib\\connection.js:1041:11)\n    at async setupDatabase (D:\\Kaser\\src\\database\\connections.js:6:9)\n    at async startBot (D:\\Kaser\\src\\index.js:13:9)","timestamp":"2025-01-21T22:46:57.245Z"}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-21T22:56:24.025Z"}
{"level":"error","message":"Failed to connect to MongoDB: getaddrinfo ENOTFOUND mongodb.railway.internal","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"mongodb.railway.internal:27017":{"$clusterTime":null,"address":"mongodb.railway.internal:27017","arbiters":[],"electionId":null,"error":{},"hosts":[],"iscryptd":false,"lastUpdateTime":25419466,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":null,"stale":false,"type":"Unknown"},"stack":"MongooseServerSelectionError: getaddrinfo ENOTFOUND mongodb.railway.internal\n    at _handleConnectionErrors (D:\\Kaser\\node_modules\\mongoose\\lib\\connection.js:1110:11)\n    at NativeConnection.openUri (D:\\Kaser\\node_modules\\mongoose\\lib\\connection.js:1041:11)\n    at async setupDatabase (D:\\Kaser\\src\\database\\connections.js:6:9)\n    at async startBot (D:\\Kaser\\src\\index.js:13:9)","timestamp":"2025-01-21T22:56:29.075Z"}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-21T22:58:22.898Z"}
{"code":18,"codeName":"AuthenticationFailed","connectionGeneration":0,"errorResponse":{"code":18,"codeName":"AuthenticationFailed","errmsg":"Authentication failed.","ok":0},"level":"error","message":"Failed to connect to MongoDB: Authentication failed.","ok":0,"stack":"MongoServerError: Authentication failed.\n    at Connection.sendCommand (D:\\Kaser\\node_modules\\mongodb\\lib\\cmap\\connection.js:296:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (D:\\Kaser\\node_modules\\mongodb\\lib\\cmap\\connection.js:323:26)\n    at async executeScram (D:\\Kaser\\node_modules\\mongodb\\lib\\cmap\\auth\\scram.js:79:22)\n    at async ScramSHA256.auth (D:\\Kaser\\node_modules\\mongodb\\lib\\cmap\\auth\\scram.js:39:16)\n    at async performInitialHandshake (D:\\Kaser\\node_modules\\mongodb\\lib\\cmap\\connect.js:104:13)\n    at async connect (D:\\Kaser\\node_modules\\mongodb\\lib\\cmap\\connect.js:24:9)","timestamp":"2025-01-21T22:58:24.594Z"}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-21T23:00:21.338Z"}
{"code":18,"codeName":"AuthenticationFailed","connectionGeneration":0,"errorResponse":{"code":18,"codeName":"AuthenticationFailed","errmsg":"Authentication failed.","ok":0},"level":"error","message":"Failed to connect to MongoDB: Authentication failed.","ok":0,"stack":"MongoServerError: Authentication failed.\n    at Connection.sendCommand (D:\\Kaser\\node_modules\\mongodb\\lib\\cmap\\connection.js:296:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (D:\\Kaser\\node_modules\\mongodb\\lib\\cmap\\connection.js:323:26)\n    at async executeScram (D:\\Kaser\\node_modules\\mongodb\\lib\\cmap\\auth\\scram.js:79:22)\n    at async ScramSHA256.auth (D:\\Kaser\\node_modules\\mongodb\\lib\\cmap\\auth\\scram.js:39:16)\n    at async performInitialHandshake (D:\\Kaser\\node_modules\\mongodb\\lib\\cmap\\connect.js:104:13)\n    at async connect (D:\\Kaser\\node_modules\\mongodb\\lib\\cmap\\connect.js:24:9)","timestamp":"2025-01-21T23:00:22.828Z"}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-21T23:04:37.691Z"}
{"code":18,"codeName":"AuthenticationFailed","connectionGeneration":0,"errorResponse":{"code":18,"codeName":"AuthenticationFailed","errmsg":"Authentication failed.","ok":0},"level":"error","message":"Failed to connect to MongoDB: Authentication failed.","ok":0,"stack":"MongoServerError: Authentication failed.\n    at Connection.sendCommand (D:\\Kaser\\node_modules\\mongodb\\lib\\cmap\\connection.js:296:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (D:\\Kaser\\node_modules\\mongodb\\lib\\cmap\\connection.js:323:26)\n    at async executeScram (D:\\Kaser\\node_modules\\mongodb\\lib\\cmap\\auth\\scram.js:79:22)\n    at async ScramSHA256.auth (D:\\Kaser\\node_modules\\mongodb\\lib\\cmap\\auth\\scram.js:39:16)\n    at async performInitialHandshake (D:\\Kaser\\node_modules\\mongodb\\lib\\cmap\\connect.js:104:13)\n    at async connect (D:\\Kaser\\node_modules\\mongodb\\lib\\cmap\\connect.js:24:9)","timestamp":"2025-01-21T23:04:39.026Z"}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-21T23:06:00.228Z"}
{"level":"error","message":"Failed to connect to MongoDB: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"kaser-shard-00-00.y0ewo.mongodb.net:27017":{"$clusterTime":null,"address":"kaser-shard-00-00.y0ewo.mongodb.net:27017","arbiters":[],"electionId":null,"error":{},"hosts":[],"iscryptd":false,"lastUpdateTime":25996006,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"kaser-shard-00-01.y0ewo.mongodb.net:27017":{"$clusterTime":null,"address":"kaser-shard-00-01.y0ewo.mongodb.net:27017","arbiters":[],"electionId":null,"error":{},"hosts":[],"iscryptd":false,"lastUpdateTime":25995642,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"kaser-shard-00-02.y0ewo.mongodb.net:27017":{"$clusterTime":null,"address":"kaser-shard-00-02.y0ewo.mongodb.net:27017","arbiters":[],"electionId":null,"error":{},"hosts":[],"iscryptd":false,"lastUpdateTime":25995698,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-10q11d-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (D:\\Kaser\\node_modules\\mongoose\\lib\\connection.js:1110:11)\n    at NativeConnection.openUri (D:\\Kaser\\node_modules\\mongoose\\lib\\connection.js:1041:11)\n    at async setupDatabase (D:\\Kaser\\src\\database\\connections.js:6:9)\n    at async startBot (D:\\Kaser\\src\\index.js:13:9)","timestamp":"2025-01-21T23:06:05.505Z"}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-21T23:07:25.853Z"}
{"level":"info","message":"Successfully connected to MongoDB","timestamp":"2025-01-21T23:07:27.947Z"}
{"level":"info","message":"Message handlers setup completed","timestamp":"2025-01-21T23:07:27.949Z"}
{"level":"info","message":"Bot setup completed successfully","timestamp":"2025-01-21T23:07:27.950Z"}
{"interactionType":"greeting","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:07:32.752Z","tokens":556,"userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:07:40.635Z","tokens":603,"userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:07:49.072Z","tokens":612,"userId":"6663578948"}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-21T23:11:41.980Z"}
{"level":"error","message":"Failed to connect to MongoDB: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"kaser-shard-00-00.y0ewo.mongodb.net:27017":{"$clusterTime":null,"address":"kaser-shard-00-00.y0ewo.mongodb.net:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":26332904,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"kaser-shard-00-01.y0ewo.mongodb.net:27017":{"$clusterTime":null,"address":"kaser-shard-00-01.y0ewo.mongodb.net:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":26332904,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"kaser-shard-00-02.y0ewo.mongodb.net:27017":{"$clusterTime":null,"address":"kaser-shard-00-02.y0ewo.mongodb.net:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":26332903,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-10q11d-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (D:\\Kaser\\node_modules\\mongoose\\lib\\connection.js:1110:11)\n    at NativeConnection.openUri (D:\\Kaser\\node_modules\\mongoose\\lib\\connection.js:1041:11)\n    at async setupDatabase (D:\\Kaser\\src\\database\\connections.js:6:9)\n    at async startBot (D:\\Kaser\\src\\index.js:13:9)","timestamp":"2025-01-21T23:11:47.254Z"}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-21T23:12:11.718Z"}
{"level":"error","message":"Failed to connect to MongoDB: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"kaser-shard-00-00.y0ewo.mongodb.net:27017":{"$clusterTime":null,"address":"kaser-shard-00-00.y0ewo.mongodb.net:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":26362518,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"kaser-shard-00-01.y0ewo.mongodb.net:27017":{"$clusterTime":null,"address":"kaser-shard-00-01.y0ewo.mongodb.net:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":26362518,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"kaser-shard-00-02.y0ewo.mongodb.net:27017":{"$clusterTime":null,"address":"kaser-shard-00-02.y0ewo.mongodb.net:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":26362518,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-10q11d-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (D:\\Kaser\\node_modules\\mongoose\\lib\\connection.js:1110:11)\n    at NativeConnection.openUri (D:\\Kaser\\node_modules\\mongoose\\lib\\connection.js:1041:11)\n    at async setupDatabase (D:\\Kaser\\src\\database\\connections.js:6:9)\n    at async startBot (D:\\Kaser\\src\\index.js:13:9)","timestamp":"2025-01-21T23:12:16.856Z"}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-21T23:20:47.262Z"}
{"level":"info","message":"Successfully connected to MongoDB","timestamp":"2025-01-21T23:20:49.134Z"}
{"level":"info","message":"Message handlers setup completed","timestamp":"2025-01-21T23:20:49.138Z"}
{"level":"info","message":"Bot setup completed successfully","timestamp":"2025-01-21T23:20:49.139Z"}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-21T23:21:21.669Z"}
{"level":"info","message":"Successfully connected to MongoDB","timestamp":"2025-01-21T23:21:22.999Z"}
{"level":"info","message":"Message handlers setup completed","timestamp":"2025-01-21T23:21:23.001Z"}
{"level":"info","message":"Bot setup completed successfully","timestamp":"2025-01-21T23:21:23.002Z"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:23:23.970Z","tokens":623,"userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:23:27.247Z","tokens":636,"userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:23:43.029Z","tokens":634,"userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:24:44.442Z","tokens":630,"userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:24:47.712Z","tokens":638,"userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:24:47.943Z","tokens":634,"userId":"6663578948"}
{"level":"error","message":"Error in handleText: No matching document found for id \"678ec4e1d495ad8e183e39b5\" version 77 modifiedPaths \"messages\"","modifiedPaths":["messages"],"stack":"VersionError: No matching document found for id \"678ec4e1d495ad8e183e39b5\" version 77 modifiedPaths \"messages\"\n    at generateVersionError (D:\\Kaser\\node_modules\\mongoose\\lib\\model.js:517:10)\n    at model.save (D:\\Kaser\\node_modules\\mongoose\\lib\\model.js:575:28)\n    at handleText (D:\\Kaser\\src\\workers\\message\\text.js:99:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\Kaser\\src\\workers\\message\\index.js:25:13\n    at async execute (D:\\Kaser\\node_modules\\telegraf\\lib\\composer.js:518:17)\n    at async D:\\Kaser\\node_modules\\telegraf\\lib\\composer.js:519:21\n    at async execute (D:\\Kaser\\node_modules\\telegraf\\lib\\composer.js:518:17)\n    at async execute (D:\\Kaser\\node_modules\\telegraf\\lib\\composer.js:518:17)\n    at async execute (D:\\Kaser\\node_modules\\telegraf\\lib\\composer.js:518:17)","timestamp":"2025-01-21T23:24:48.102Z","version":77}
{"level":"error","message":"Error in handleText: No matching document found for id \"678ec4e1d495ad8e183e39b5\" version 77 modifiedPaths \"messages\"","modifiedPaths":["messages"],"stack":"VersionError: No matching document found for id \"678ec4e1d495ad8e183e39b5\" version 77 modifiedPaths \"messages\"\n    at generateVersionError (D:\\Kaser\\node_modules\\mongoose\\lib\\model.js:517:10)\n    at model.save (D:\\Kaser\\node_modules\\mongoose\\lib\\model.js:575:28)\n    at handleText (D:\\Kaser\\src\\workers\\message\\text.js:99:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\Kaser\\src\\workers\\message\\index.js:25:13\n    at async execute (D:\\Kaser\\node_modules\\telegraf\\lib\\composer.js:518:17)\n    at async D:\\Kaser\\node_modules\\telegraf\\lib\\composer.js:519:21\n    at async execute (D:\\Kaser\\node_modules\\telegraf\\lib\\composer.js:518:17)\n    at async execute (D:\\Kaser\\node_modules\\telegraf\\lib\\composer.js:518:17)\n    at async execute (D:\\Kaser\\node_modules\\telegraf\\lib\\composer.js:518:17)","timestamp":"2025-01-21T23:24:48.201Z","version":77}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:27:22.419Z","tokens":590,"userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:27:25.060Z","tokens":520,"userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:27:25.101Z","tokens":516,"userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:27:25.920Z","tokens":556,"userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:27:28.726Z","tokens":635,"userId":"6663578948"}
{"level":"error","message":"Error in handleText: No matching document found for id \"67902d5909087eecaac57ebb\" version 3 modifiedPaths \"messages\"","modifiedPaths":["messages"],"stack":"VersionError: No matching document found for id \"67902d5909087eecaac57ebb\" version 3 modifiedPaths \"messages\"\n    at generateVersionError (D:\\Kaser\\node_modules\\mongoose\\lib\\model.js:517:10)\n    at model.save (D:\\Kaser\\node_modules\\mongoose\\lib\\model.js:575:28)\n    at handleText (D:\\Kaser\\src\\workers\\message\\text.js:99:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\Kaser\\src\\workers\\message\\index.js:25:13\n    at async execute (D:\\Kaser\\node_modules\\telegraf\\lib\\composer.js:518:17)\n    at async D:\\Kaser\\node_modules\\telegraf\\lib\\composer.js:519:21\n    at async execute (D:\\Kaser\\node_modules\\telegraf\\lib\\composer.js:518:17)\n    at async execute (D:\\Kaser\\node_modules\\telegraf\\lib\\composer.js:518:17)\n    at async execute (D:\\Kaser\\node_modules\\telegraf\\lib\\composer.js:518:17)","timestamp":"2025-01-21T23:27:28.818Z","version":3}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:27:41.783Z","tokens":611,"userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:27:45.649Z","tokens":515,"userId":"6663578948"}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-21T23:28:33.483Z"}
{"level":"info","message":"Successfully connected to MongoDB","timestamp":"2025-01-21T23:28:35.190Z"}
{"level":"info","message":"Message handlers setup completed","timestamp":"2025-01-21T23:28:35.192Z"}
{"level":"info","message":"Bot setup completed successfully","timestamp":"2025-01-21T23:28:35.193Z"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:28:42.341Z","tokens":553,"userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:28:45.518Z","tokens":579,"userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:28:45.660Z","tokens":595,"userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:28:48.862Z","tokens":588,"userId":"6663578948"}
{"level":"info","message":"Message blocked due to inappropriate content","messageType":"text","pattern":"conversation","processingTime":1240,"timestamp":"2025-01-21T23:28:50.727Z","tokens":523}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:28:51.559Z","tokens":525,"userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:28:51.777Z","tokens":527,"userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:28:52.317Z","tokens":513,"userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:28:52.521Z","tokens":522,"userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:28:55.065Z","tokens":628,"userId":"6663578948"}
{"level":"info","message":"Message blocked due to inappropriate content","messageType":"text","pattern":"conversation","processingTime":1276,"timestamp":"2025-01-21T23:30:19.811Z","tokens":522}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-21T23:30:55.486Z"}
{"level":"info","message":"Successfully connected to MongoDB","timestamp":"2025-01-21T23:30:57.523Z"}
{"level":"info","message":"Message handlers setup completed","timestamp":"2025-01-21T23:30:57.526Z"}
{"level":"info","message":"Bot setup completed successfully","timestamp":"2025-01-21T23:30:57.528Z"}
{"level":"info","message":"Message blocked due to inappropriate content","messageType":"text","pattern":"conversation","processingTime":1483,"timestamp":"2025-01-21T23:31:14.783Z","tokens":529}
{"level":"info","message":"Message blocked due to inappropriate content","messageType":"text","pattern":"conversation","processingTime":849,"timestamp":"2025-01-21T23:31:16.395Z","tokens":493}
{"level":"info","message":"Message blocked due to inappropriate content","messageType":"text","pattern":"conversation","processingTime":937,"timestamp":"2025-01-21T23:31:16.477Z","tokens":522}
{"level":"info","message":"Message blocked due to inappropriate content","messageType":"text","pattern":"conversation","processingTime":1200,"timestamp":"2025-01-21T23:31:20.360Z","tokens":526}
{"level":"info","message":"Message blocked due to inappropriate content","messageType":"text","pattern":"conversation","processingTime":1257,"timestamp":"2025-01-21T23:31:22.351Z","tokens":527}
{"level":"info","message":"Message blocked due to inappropriate content","messageType":"text","pattern":"conversation","processingTime":2207,"timestamp":"2025-01-21T23:31:25.296Z","tokens":539}
{"level":"info","message":"Message blocked due to inappropriate content","messageType":"text","pattern":"conversation","processingTime":1296,"timestamp":"2025-01-21T23:31:27.378Z","tokens":534}
{"level":"debug","message":"Added new image to cache: a549ebda... (1/5000)","timestamp":"2025-01-21T23:31:50.830Z"}
{"level":"debug","message":"Added new image to cache: 9bfc0e0f... (2/5000)","timestamp":"2025-01-21T23:31:50.928Z"}
{"level":"debug","message":"Added new image to cache: e9c9b4ea... (3/5000)","timestamp":"2025-01-21T23:31:51.005Z"}
{"cached":false,"description":"الصورة مناسبة وتتوافق مع الضوابط الشرعية","isAppropriate":true,"level":"info","message":"Message handled successfully","messageType":"image","timestamp":"2025-01-21T23:31:51.184Z","userId":"6663578948"}
{"level":"debug","message":"Added new image to cache: 18573af7... (4/5000)","timestamp":"2025-01-21T23:31:51.242Z"}
{"level":"debug","message":"Added new image to cache: c4de2fbd... (5/5000)","timestamp":"2025-01-21T23:31:51.294Z"}
{"cached":false,"description":"الصورة مناسبة وتتوافق مع الضوابط الشرعية","isAppropriate":true,"level":"info","message":"Message handled successfully","messageType":"image","timestamp":"2025-01-21T23:31:51.336Z","userId":"6663578948"}
{"cached":false,"description":"الصورة مناسبة وتتوافق مع الضوابط الشرعية","isAppropriate":true,"level":"info","message":"Message handled successfully","messageType":"image","timestamp":"2025-01-21T23:31:51.578Z","userId":"6663578948"}
{"cached":false,"description":"الصورة مناسبة وتتوافق مع الضوابط الشرعية","isAppropriate":true,"level":"info","message":"Message handled successfully","messageType":"image","timestamp":"2025-01-21T23:31:51.683Z","userId":"6663578948"}
{"level":"info","message":"Message blocked due to inappropriate content","messageType":"text","pattern":"conversation","processingTime":2071,"timestamp":"2025-01-21T23:31:54.506Z","tokens":536}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-21T23:33:49.282Z"}
{"level":"info","message":"Successfully connected to MongoDB","timestamp":"2025-01-21T23:33:51.019Z"}
{"level":"info","message":"Message handlers setup completed","timestamp":"2025-01-21T23:33:51.021Z"}
{"level":"info","message":"Bot setup completed successfully","timestamp":"2025-01-21T23:33:51.022Z"}
{"hits":2,"level":"info","message":"Cache hit","pattern":"greeting","timestamp":"2025-01-21T23:33:55.134Z"}
{"interactionType":"greeting","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:33:56.295Z","userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:34:03.840Z","tokens":570,"userId":"6663578948"}
{"level":"info","message":"Message blocked due to inappropriate content","messageType":"text","pattern":"conversation","processingTime":1348,"timestamp":"2025-01-21T23:34:05.864Z","tokens":606}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:34:07.178Z","tokens":618,"userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:34:07.275Z","tokens":632,"userId":"6663578948"}
{"level":"debug","message":"Added new image to cache: e9c9b4ea... (1/5000)","timestamp":"2025-01-21T23:34:41.261Z"}
{"level":"debug","message":"Added new image to cache: c4de2fbd... (2/5000)","timestamp":"2025-01-21T23:34:41.311Z"}
{"level":"debug","message":"Added new image to cache: 18573af7... (3/5000)","timestamp":"2025-01-21T23:34:41.377Z"}
{"level":"debug","message":"Added new image to cache: 9bfc0e0f... (4/5000)","timestamp":"2025-01-21T23:34:41.512Z"}
{"level":"debug","message":"Added new image to cache: a549ebda... (5/5000)","timestamp":"2025-01-21T23:34:41.708Z"}
{"cached":false,"description":"الصورة مناسبة وتتوافق مع الضوابط الشرعية","isAppropriate":true,"level":"info","message":"Message handled successfully","messageType":"image","timestamp":"2025-01-21T23:34:41.710Z","userId":"6663578948"}
{"cached":false,"description":"الصورة مناسبة وتتوافق مع الضوابط الشرعية","isAppropriate":true,"level":"info","message":"Message handled successfully","messageType":"image","timestamp":"2025-01-21T23:34:41.818Z","userId":"6663578948"}
{"cached":false,"description":"الصورة مناسبة وتتوافق مع الضوابط الشرعية","isAppropriate":true,"level":"info","message":"Message handled successfully","messageType":"image","timestamp":"2025-01-21T23:34:41.936Z","userId":"6663578948"}
{"cached":false,"description":"الصورة مناسبة وتتوافق مع الضوابط الشرعية","isAppropriate":true,"level":"info","message":"Message handled successfully","messageType":"image","timestamp":"2025-01-21T23:34:41.998Z","userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:34:49.861Z","tokens":677,"userId":"6663578948"}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-21T23:40:20.581Z"}
{"level":"info","message":"Successfully connected to MongoDB","timestamp":"2025-01-21T23:40:22.333Z"}
{"level":"info","message":"Message handlers setup completed","timestamp":"2025-01-21T23:40:22.335Z"}
{"level":"info","message":"Bot setup completed successfully","timestamp":"2025-01-21T23:40:22.336Z"}
{"hits":3,"level":"info","message":"Cache hit","pattern":"greeting","timestamp":"2025-01-21T23:40:27.307Z"}
{"interactionType":"greeting","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:40:28.453Z","userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:40:40.091Z","tokens":533,"userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:40:51.756Z","tokens":785,"userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:41:05.022Z","tokens":552,"userId":"6663578948"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:41:16.755Z","tokens":530,"userId":"6663578948"}
{"level":"info","message":"Message blocked due to inappropriate content","messageType":"text","pattern":"conversation","processingTime":549,"timestamp":"2025-01-21T23:41:20.115Z","tokens":493}
{"level":"debug","message":"Added new image to cache: e9c9b4ea... (1/5000)","timestamp":"2025-01-21T23:41:23.597Z"}
{"level":"debug","message":"Added new image to cache: a549ebda... (2/5000)","timestamp":"2025-01-21T23:41:23.808Z"}
{"cached":false,"description":"الصورة مناسبة وتتوافق مع الضوابط الشرعية","isAppropriate":true,"level":"info","message":"Message handled successfully","messageType":"image","timestamp":"2025-01-21T23:41:24.001Z","userId":"6663578948"}
{"level":"debug","message":"Added new image to cache: c4de2fbd... (3/5000)","timestamp":"2025-01-21T23:41:24.027Z"}
{"cached":false,"description":"الصورة مناسبة وتتوافق مع الضوابط الشرعية","isAppropriate":true,"level":"info","message":"Message handled successfully","messageType":"image","timestamp":"2025-01-21T23:41:24.170Z","userId":"6663578948"}
{"level":"debug","message":"Added new image to cache: 18573af7... (4/5000)","timestamp":"2025-01-21T23:41:24.239Z"}
{"cached":false,"description":"الصورة مناسبة وتتوافق مع الضوابط الشرعية","isAppropriate":true,"level":"info","message":"Message handled successfully","messageType":"image","timestamp":"2025-01-21T23:41:24.330Z","userId":"6663578948"}
{"cached":false,"description":"الصورة مناسبة وتتوافق مع الضوابط الشرعية","isAppropriate":true,"level":"info","message":"Message handled successfully","messageType":"image","timestamp":"2025-01-21T23:41:24.554Z","userId":"6663578948"}
{"level":"info","message":"Message blocked due to inappropriate content","messageType":"text","pattern":"conversation","processingTime":1396,"timestamp":"2025-01-21T23:41:26.631Z","tokens":530}
{"level":"info","message":"Message blocked due to inappropriate content","messageType":"text","pattern":"conversation","processingTime":1421,"timestamp":"2025-01-21T23:41:57.339Z","tokens":554}
{"hits":4,"level":"info","message":"Cache hit","pattern":"greeting","timestamp":"2025-01-21T23:46:26.472Z"}
{"interactionType":"greeting","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:46:27.612Z","userId":"6663578948"}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-21T23:46:39.224Z"}
{"level":"info","message":"Successfully connected to MongoDB","timestamp":"2025-01-21T23:46:41.157Z"}
{"level":"info","message":"Message handlers setup completed","timestamp":"2025-01-21T23:46:41.160Z"}
{"level":"info","message":"Bot setup completed successfully","timestamp":"2025-01-21T23:46:41.162Z"}
{"expiresAt":"2025-01-28T23:48:10.878Z","level":"info","message":"Response cached","pattern":"greeting","timestamp":"2025-01-21T23:48:11.028Z"}
{"interactionType":"greeting","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:48:12.047Z","tokens":521,"userId":"6663578948"}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-21T23:49:20.161Z"}
{"level":"info","message":"Successfully connected to MongoDB","timestamp":"2025-01-21T23:49:22.142Z"}
{"level":"info","message":"Message handlers setup completed","timestamp":"2025-01-21T23:49:22.145Z"}
{"level":"info","message":"Bot setup completed successfully","timestamp":"2025-01-21T23:49:22.146Z"}
{"expiresAt":"2025-01-28T23:49:45.842Z","level":"info","message":"Response cached","pattern":"greeting","timestamp":"2025-01-21T23:49:45.996Z"}
{"interactionType":"greeting","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:49:47.026Z","tokens":519,"userId":"6663578948"}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-21T23:50:52.000Z"}
{"level":"info","message":"Successfully connected to MongoDB","timestamp":"2025-01-21T23:50:53.883Z"}
{"level":"info","message":"Message handlers setup completed","timestamp":"2025-01-21T23:50:53.885Z"}
{"level":"info","message":"Bot setup completed successfully","timestamp":"2025-01-21T23:50:53.887Z"}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-21T23:52:08.225Z"}
{"level":"info","message":"Successfully connected to MongoDB","timestamp":"2025-01-21T23:52:10.258Z"}
{"level":"info","message":"Message handlers setup completed","timestamp":"2025-01-21T23:52:10.261Z"}
{"level":"info","message":"Bot setup completed successfully","timestamp":"2025-01-21T23:52:10.262Z"}
{"chatType":"group","from":{"first_name":"Youssef","id":6663578948,"is_bot":false,"language_code":"en","last_name":"Elkomy","username":"youssefekoumy"},"isGroup":true,"level":"info","message":"Starting message processing","messageId":1600,"messageText":"السلام عليكم @KaserTest_bot","timestamp":"2025-01-21T23:53:23.479Z"}
{"level":"info","message":"Detecting interaction type السلام عليكم @KaserTest_bot","timestamp":"2025-01-21T23:53:23.482Z"}
{"level":"info","message":"Detected greeting السلام عليكم @kasertest_bot","timestamp":"2025-01-21T23:53:23.483Z"}
{"interactionType":"greeting","level":"info","message":"Detected interaction type","messageText":"السلام عليكم @KaserTest_bot","timestamp":"2025-01-21T23:53:23.485Z"}
{"botUsername":"KaserTest_bot","chatId":-4724278027,"chatTitle":"Elmobde3 Requests","level":"info","message":"Processing group message","messageText":"السلام عليكم @KaserTest_bot","timestamp":"2025-01-21T23:53:23.486Z"}
{"botId":8158070214,"isDirectMention":true,"level":"info","message":"Checking response conditions","replyToMessage":false,"timestamp":"2025-01-21T23:53:23.489Z"}
{"level":"info","message":"Will respond to message","messageId":1600,"reason":"direct_mention","timestamp":"2025-01-21T23:53:23.490Z"}
{"contextExists":true,"level":"info","message":"Retrieved conversation context","timestamp":"2025-01-21T23:53:23.624Z","userId":"6663578948"}
{"chatId":-4724278027,"conversationExists":false,"isGroup":true,"level":"info","message":"Found conversation","timestamp":"2025-01-21T23:53:23.739Z","userId":null}
{"level":"info","message":"Creating new conversation","timestamp":"2025-01-21T23:53:23.740Z"}
{"error":{},"level":"error","message":"Error getting group context","timestamp":"2025-01-21T23:53:23.748Z"}
{"interactionType":"greeting","isGroup":true,"level":"info","message":"Prepared enriched context","messageCount":0,"timestamp":"2025-01-21T23:53:23.749Z","userName":"Youssef"}
{"expiresAt":"2025-01-28T23:53:25.384Z","level":"info","message":"Response cached","pattern":"greeting","timestamp":"2025-01-21T23:53:25.506Z"}
{"level":"info","message":"Processed message with GPT","response":"وعليكم السلام ورحمة الله وبركاته ، يوسف ! كيف حالك اليوم ؟ إن شاء الله تكون بخير ويومك سعيد !","timestamp":"2025-01-21T23:53:25.508Z"}
{"level":"info","message":"Sent response","messageId":1601,"response":"وعليكم السلام ورحمة الله وبركاته ، يوسف ! كيف حالك اليوم ؟ إن شاء الله تكون بخير ويومك سعيد !","timestamp":"2025-01-21T23:53:25.635Z"}
{"conversationId":"679033739871817ad7f65871","level":"info","message":"Updated conversation","messages":0,"timestamp":"2025-01-21T23:53:25.762Z"}
{"context":{"0":{},"1":{},"2":{},"3":{},"4":{},"5":{},"6":{},"7":{},"8":{},"9":{},"chatTitle":"Elmobde3 Requests","interactionType":"greeting","isDirectMention":true,"isGroup":true,"isReply":false,"isReplyToBot":false,"lastResponse":"وعليكم السلام ورحمة الله وبركاته ، يوسف ! كيف حالك اليوم ؟ إن شاء الله تكون بخير ويومك سعيد !","messageContext":[],"messageCount":0,"messageFrom":"Youssef","timestamp":1737503605507,"userLanguage":"ar","userName":"Youssef"},"level":"info","message":"Updated context","timestamp":"2025-01-21T23:53:26.244Z","userId":"6663578948"}
{"level":"info","message":"Updated user stats","stats":{"stats.cost":0.00009300000000000001,"stats.messageCount":1,"stats.tokenUsage":524},"timestamp":"2025-01-21T23:53:26.365Z","userId":"6663578948"}
{"interactionType":"greeting","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:53:26.366Z","tokens":524,"userId":"6663578948"}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-21T23:53:35.336Z"}
{"level":"info","message":"Successfully connected to MongoDB","timestamp":"2025-01-21T23:53:37.194Z"}
{"level":"info","message":"Message handlers setup completed","timestamp":"2025-01-21T23:53:37.197Z"}
{"level":"info","message":"Bot setup completed successfully","timestamp":"2025-01-21T23:53:37.198Z"}
{"chatId":-4724278027,"interactionType":"question","isDirectMention":false,"isReplyToBot":true,"level":"info","message":"Bot mentioned in group","messageId":1602,"timestamp":"2025-01-21T23:53:43.273Z"}
{"error":{},"level":"error","message":"Error getting group context","timestamp":"2025-01-21T23:53:43.525Z"}
{"expiresAt":"2025-01-22T23:53:44.744Z","level":"info","message":"Response cached","pattern":"question","timestamp":"2025-01-21T23:53:44.895Z"}
{"interactionType":"question","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:53:45.787Z","tokens":537,"userId":"6663578948"}
{"chatId":-4724278027,"interactionType":"conversation","isDirectMention":false,"isReplyToBot":true,"level":"info","message":"Bot mentioned in group","messageId":1604,"timestamp":"2025-01-21T23:54:10.927Z"}
{"error":{},"level":"error","message":"Error getting group context","timestamp":"2025-01-21T23:54:11.161Z"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:54:13.760Z","tokens":564,"userId":"6663578948"}
{"chatId":-4724278027,"interactionType":"conversation","isDirectMention":false,"isReplyToBot":true,"level":"info","message":"Bot mentioned in group","messageId":1606,"timestamp":"2025-01-21T23:54:24.373Z"}
{"error":{},"level":"error","message":"Error getting group context","timestamp":"2025-01-21T23:54:24.601Z"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:54:27.024Z","tokens":523,"userId":"6663578948"}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-21T23:56:53.865Z"}
{"level":"info","message":"Successfully connected to MongoDB","timestamp":"2025-01-21T23:56:55.779Z"}
{"level":"info","message":"Message handlers setup completed","timestamp":"2025-01-21T23:56:55.781Z"}
{"level":"info","message":"Bot setup completed successfully","timestamp":"2025-01-21T23:56:55.783Z"}
{"botInfo":{"id":8158070214,"username":"KaserTest_bot"},"chatId":-4724278027,"chatType":"group","from":{"first_name":"Youssef","id":6663578948,"is_bot":false,"language_code":"ar","last_name":"Elkomy","username":"youssefekoumy"},"isGroup":true,"level":"info","message":"Starting message processing","messageId":1612,"messageText":"ماشي","timestamp":"2025-01-21T23:56:58.689Z"}
{"botUsername":"KaserTest_bot","isDirectMention":false,"isReplyToBot":true,"level":"info","message":"Group message details","messageText":"ماشي","replyToMessage":{"fromId":8158070214,"text":"أنت أكيد معانا يوسف ، بس في موضوع استخراج الصوت ، الموضوع محتاج شوية دقة . بالنسبة لكفاءة استخراج الصوت ، الأمور ممكن تكون معقدة شوية ، لكن ممكن نستخدم تقنيات حديثة لتحسين الجودة . <b>دي بعض النقاط المهمة</b> : 1 . <b><b>اختيار الميكروفون</b></b> : لازم يكون عندك ميكروفون كويس لجودة صوت أفضل . 2 . <b><b>البيئة</b></b> : حاول تسجل في مكان هادي عشان تقلل الضوضاء . 3 . <b><b>التقنيات</b></b> : استخدام برامج لتحرير الصوت ممكن يساعد في تحسين الجودة . إذا عندك تفاصيل معينة بتفكر فيها ، ممكن أساعدك فيها كمان !"},"timestamp":"2025-01-21T23:56:58.693Z"}
{"chatId":-4724278027,"interactionType":"question","isDirectMention":false,"isReplyToBot":true,"level":"info","message":"Processing group message - bot mentioned or replied to","messageId":1612,"timestamp":"2025-01-21T23:56:58.696Z"}
{"chatId":-4724278027,"chatTitle":"Elmobde3 Requests","from":"Youssef","level":"info","message":"Getting group context","messageId":1612,"replyToMessage":{"from":"KaserTest_bot","text":"أنت أكيد معانا يوسف ، بس في موضوع استخراج الصوت ، الموضوع محتاج شوية دقة . بالنسبة لكفاءة استخراج الصوت ، الأمور ممكن تكون معقدة شوية ، لكن ممكن نستخدم تقنيات حديثة لتحسين الجودة . <b>دي بعض النقاط المهمة</b> : 1 . <b><b>اختيار الميكروفون</b></b> : لازم يكون عندك ميكروفون كويس لجودة صوت أفضل . 2 . <b><b>البيئة</b></b> : حاول تسجل في مكان هادي عشان تقلل الضوضاء . 3 . <b><b>التقنيات</b></b> : استخدام برامج لتحرير الصوت ممكن يساعد في تحسين الجودة . إذا عندك تفاصيل معينة بتفكر فيها ، ممكن أساعدك فيها كمان !"},"timestamp":"2025-01-21T23:56:58.967Z"}
{"context":{"currentMessage":{"from":"Youssef","text":"ماشي","timestamp":1737503818},"repliedToMessage":{"from":"KaserTest_bot","isBot":true,"text":"أنت أكيد معانا يوسف ، بس في موضوع استخراج الصوت ، الموضوع محتاج شوية دقة . بالنسبة لكفاءة استخراج الصوت ، الأمور ممكن تكون معقدة شوية ، لكن ممكن نستخدم تقنيات حديثة لتحسين الجودة . <b>دي بعض النقاط المهمة</b> : 1 . <b><b>اختيار الميكروفون</b></b> : لازم يكون عندك ميكروفون كويس لجودة صوت أفضل . 2 . <b><b>البيئة</b></b> : حاول تسجل في مكان هادي عشان تقلل الضوضاء . 3 . <b><b>التقنيات</b></b> : استخدام برامج لتحرير الصوت ممكن يساعد في تحسين الجودة . إذا عندك تفاصيل معينة بتفكر فيها ، ممكن أساعدك فيها كمان !","timestamp":1737503701}},"level":"info","message":"Created message context","timestamp":"2025-01-21T23:56:58.970Z"}
{"expiresAt":"2025-01-22T23:57:00.420Z","level":"info","message":"Response cached","pattern":"question","timestamp":"2025-01-21T23:57:00.574Z"}
{"level":"info","message":"GPT response received","messageId":1612,"responseLength":90,"timestamp":"2025-01-21T23:57:00.575Z"}
{"interactionType":"question","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:57:01.607Z","tokens":538,"userId":"6663578948"}
{"botInfo":{"id":8158070214,"username":"KaserTest_bot"},"chatId":-4724278027,"chatType":"group","from":{"first_name":"Youssef","id":6663578948,"is_bot":false,"language_code":"ar","last_name":"Elkomy","username":"youssefekoumy"},"isGroup":true,"level":"info","message":"Starting message processing","messageId":1614,"messageText":"احنا كنا بنتكلم في ايه","timestamp":"2025-01-21T23:57:07.850Z"}
{"botUsername":"KaserTest_bot","isDirectMention":false,"isReplyToBot":true,"level":"info","message":"Group message details","messageText":"احنا كنا بنتكلم في ايه","replyToMessage":{"fromId":8158070214,"text":"@youssefekoumy ماشي ، يوسف ! إذا عندك أي سؤال أو موضوع حابب تتناقش فيه ، أنا هنا للمساعدة . يلا ، خبرني !"},"timestamp":"2025-01-21T23:57:07.852Z"}
{"chatId":-4724278027,"interactionType":"conversation","isDirectMention":false,"isReplyToBot":true,"level":"info","message":"Processing group message - bot mentioned or replied to","messageId":1614,"timestamp":"2025-01-21T23:57:07.854Z"}
{"chatId":-4724278027,"chatTitle":"Elmobde3 Requests","from":"Youssef","level":"info","message":"Getting group context","messageId":1614,"replyToMessage":{"from":"KaserTest_bot","text":"@youssefekoumy ماشي ، يوسف ! إذا عندك أي سؤال أو موضوع حابب تتناقش فيه ، أنا هنا للمساعدة . يلا ، خبرني !"},"timestamp":"2025-01-21T23:57:08.141Z"}
{"context":{"currentMessage":{"from":"Youssef","text":"احنا كنا بنتكلم في ايه","timestamp":1737503827},"repliedToMessage":{"from":"KaserTest_bot","isBot":true,"text":"@youssefekoumy ماشي ، يوسف ! إذا عندك أي سؤال أو موضوع حابب تتناقش فيه ، أنا هنا للمساعدة . يلا ، خبرني !","timestamp":1737503820}},"level":"info","message":"Created message context","timestamp":"2025-01-21T23:57:08.143Z"}
{"level":"info","message":"GPT response received","messageId":1614,"responseLength":145,"timestamp":"2025-01-21T23:57:10.055Z"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:57:11.044Z","tokens":561,"userId":"6663578948"}
{"botInfo":{"id":8158070214,"username":"KaserTest_bot"},"chatId":-4724278027,"chatType":"group","from":{"first_name":"Youssef","id":6663578948,"is_bot":false,"language_code":"ar","last_name":"Elkomy","username":"youssefekoumy"},"isGroup":true,"level":"info","message":"Starting message processing","messageId":1616,"messageText":"لأ عاوزك تقولي بالظبط بطل فلسفة","timestamp":"2025-01-21T23:57:22.873Z"}
{"botUsername":"KaserTest_bot","isDirectMention":false,"isReplyToBot":true,"level":"info","message":"Group message details","messageText":"لأ عاوزك تقولي بالظبط بطل فلسفة","replyToMessage":{"fromId":8158070214,"text":"@youssefekoumy إزيك يوسف ؟ كنا بنتكلم عن أشياء ممتعة ومفيدة . لو تحب تذكر الموضوع أو تسأل عن حاجة معينة ، أنا هنا عشان أساعدك . هل عندك موضوع معين حابب تناقشه ؟"},"timestamp":"2025-01-21T23:57:22.876Z"}
{"chatId":-4724278027,"interactionType":"conversation","isDirectMention":false,"isReplyToBot":true,"level":"info","message":"Processing group message - bot mentioned or replied to","messageId":1616,"timestamp":"2025-01-21T23:57:22.877Z"}
{"chatId":-4724278027,"chatTitle":"Elmobde3 Requests","from":"Youssef","level":"info","message":"Getting group context","messageId":1616,"replyToMessage":{"from":"KaserTest_bot","text":"@youssefekoumy إزيك يوسف ؟ كنا بنتكلم عن أشياء ممتعة ومفيدة . لو تحب تذكر الموضوع أو تسأل عن حاجة معينة ، أنا هنا عشان أساعدك . هل عندك موضوع معين حابب تناقشه ؟"},"timestamp":"2025-01-21T23:57:23.147Z"}
{"context":{"currentMessage":{"from":"Youssef","text":"لأ عاوزك تقولي بالظبط بطل فلسفة","timestamp":1737503842},"repliedToMessage":{"from":"KaserTest_bot","isBot":true,"text":"@youssefekoumy إزيك يوسف ؟ كنا بنتكلم عن أشياء ممتعة ومفيدة . لو تحب تذكر الموضوع أو تسأل عن حاجة معينة ، أنا هنا عشان أساعدك . هل عندك موضوع معين حابب تناقشه ؟","timestamp":1737503830}},"level":"info","message":"Created message context","timestamp":"2025-01-21T23:57:23.149Z"}
{"level":"info","message":"GPT response received","messageId":1616,"responseLength":160,"timestamp":"2025-01-21T23:57:24.840Z"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:57:25.881Z","tokens":557,"userId":"6663578948"}
{"botInfo":{"id":8158070214,"username":"KaserTest_bot"},"chatId":-4724278027,"chatType":"group","from":{"first_name":"Youssef","id":6663578948,"is_bot":false,"language_code":"ar","last_name":"Elkomy","username":"youssefekoumy"},"isGroup":true,"level":"info","message":"Starting message processing","messageId":1618,"messageText":"ازاي تكلم الي صنعك كده ، أنا مبرمجك","timestamp":"2025-01-21T23:57:48.063Z"}
{"botUsername":"KaserTest_bot","isDirectMention":false,"isReplyToBot":true,"level":"info","message":"Group message details","messageText":"ازاي تكلم الي صنعك كده ، أنا مبرمجك","replyToMessage":{"fromId":8158070214,"text":"@youssefekoumy BLOCK المفروض نتجنب الحديث عن مواضيع فلسفية قد تكون غير مناسبة . لكن إذا عندك موضوع آخر حابب تتناقش فيه ، أنا هنا عشان أساعدك يا يوسف ! هل في شيء معين في بالك ؟"},"timestamp":"2025-01-21T23:57:48.065Z"}
{"chatId":-4724278027,"interactionType":"conversation","isDirectMention":false,"isReplyToBot":true,"level":"info","message":"Processing group message - bot mentioned or replied to","messageId":1618,"timestamp":"2025-01-21T23:57:48.067Z"}
{"chatId":-4724278027,"chatTitle":"Elmobde3 Requests","from":"Youssef","level":"info","message":"Getting group context","messageId":1618,"replyToMessage":{"from":"KaserTest_bot","text":"@youssefekoumy BLOCK المفروض نتجنب الحديث عن مواضيع فلسفية قد تكون غير مناسبة . لكن إذا عندك موضوع آخر حابب تتناقش فيه ، أنا هنا عشان أساعدك يا يوسف ! هل في شيء معين في بالك ؟"},"timestamp":"2025-01-21T23:57:48.341Z"}
{"context":{"currentMessage":{"from":"Youssef","text":"ازاي تكلم الي صنعك كده ، أنا مبرمجك","timestamp":1737503868},"repliedToMessage":{"from":"KaserTest_bot","isBot":true,"text":"@youssefekoumy BLOCK المفروض نتجنب الحديث عن مواضيع فلسفية قد تكون غير مناسبة . لكن إذا عندك موضوع آخر حابب تتناقش فيه ، أنا هنا عشان أساعدك يا يوسف ! هل في شيء معين في بالك ؟","timestamp":1737503845}},"level":"info","message":"Created message context","timestamp":"2025-01-21T23:57:48.343Z"}
{"level":"info","message":"GPT response received","messageId":1618,"responseLength":157,"timestamp":"2025-01-21T23:57:50.833Z"}
{"interactionType":"conversation","level":"info","message":"Message handled successfully","messageType":"text","timestamp":"2025-01-21T23:57:51.903Z","tokens":572,"userId":"6663578948"}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-22T00:02:06.823Z"}
{"level":"info","message":"Successfully connected to MongoDB","timestamp":"2025-01-22T00:02:08.653Z"}
{"level":"info","message":"Message handlers setup completed","timestamp":"2025-01-22T00:02:08.655Z"}
{"level":"info","message":"Bot setup completed successfully","timestamp":"2025-01-22T00:02:08.656Z"}
{"chatType":"group","isDirectMention":false,"isGroup":true,"isReplyToBot":true,"level":"info","message":"Processing message","timestamp":"2025-01-22T00:02:17.486Z"}
{"chatId":-4724278027,"chatTitle":"Elmobde3 Requests","from":"Youssef","level":"info","message":"Getting group context","messageId":1624,"replyToMessage":{"from":"KaserTest_bot","text":"أنت أكيد معانا يوسف ، بس في موضوع استخراج الصوت ، الموضوع محتاج شوية دقة . بالنسبة لكفاءة استخراج الصوت ، الأمور ممكن تكون معقدة شوية ، لكن ممكن نستخدم تقنيات حديثة لتحسين الجودة . <b>دي بعض النقاط المهمة</b> : 1 . <b><b>اختيار الميكروفون</b></b> : لازم يكون عندك ميكروفون كويس لجودة صوت أفضل . 2 . <b><b>البيئة</b></b> : حاول تسجل في مكان هادي عشان تقلل الضوضاء . 3 . <b><b>التقنيات</b></b> : استخدام برامج لتحرير الصوت ممكن يساعد في تحسين الجودة . إذا عندك تفاصيل معينة بتفكر فيها ، ممكن أساعدك فيها كمان !"},"timestamp":"2025-01-22T00:02:17.781Z"}
{"context":{"currentMessage":{"from":"Youssef","text":"المهم كنا بنتكلم في ايه","timestamp":1737504137},"repliedToMessage":{"from":"KaserTest_bot","isBot":true,"text":"أنت أكيد معانا يوسف ، بس في موضوع استخراج الصوت ، الموضوع محتاج شوية دقة . بالنسبة لكفاءة استخراج الصوت ، الأمور ممكن تكون معقدة شوية ، لكن ممكن نستخدم تقنيات حديثة لتحسين الجودة . <b>دي بعض النقاط المهمة</b> : 1 . <b><b>اختيار الميكروفون</b></b> : لازم يكون عندك ميكروفون كويس لجودة صوت أفضل . 2 . <b><b>البيئة</b></b> : حاول تسجل في مكان هادي عشان تقلل الضوضاء . 3 . <b><b>التقنيات</b></b> : استخدام برامج لتحرير الصوت ممكن يساعد في تحسين الجودة . إذا عندك تفاصيل معينة بتفكر فيها ، ممكن أساعدك فيها كمان !","timestamp":1737503701}},"level":"info","message":"Created message context","timestamp":"2025-01-22T00:02:17.784Z"}
{"code":"model_not_found","error":{"code":"model_not_found","message":"Project `proj_xixi24RMpT7NuUV76gbAHKyZ` does not have access to model `gpt-4-1106-preview`","param":null,"type":"invalid_request_error"},"headers":{"alt-svc":"h3=\":443\"; ma=86400","cf-cache-status":"DYNAMIC","cf-ray":"905b4641699290fe-FRA","connection":"keep-alive","content-encoding":"gzip","content-type":"application/json; charset=utf-8","date":"Wed, 22 Jan 2025 00:02:18 GMT","server":"cloudflare","set-cookie":"__cf_bm=oTcP8H4IA32oWOGC7iAPHm0A4bX7grgzEaJccSSqY8Y-1737504138-1.0.1.1-mn79v85sZ8pSqUE37XVv8VGhuBxXmG3sjUTBkHFkTsRoFIzfEk5_pFSeQt5iFNBSaYRY20GZ3jADxskcb33Vxg; path=/; expires=Wed, 22-Jan-25 00:32:18 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=UQ1e02rldRhxRet9z7mBhuvwmo5Gu54Zj0wBFpK36BY-1737504138641-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None","strict-transport-security":"max-age=31536000; includeSubDomains; preload","transfer-encoding":"chunked","vary":"Origin","x-content-type-options":"nosniff","x-request-id":"req_6314586e036016e9a912a21d58ae6778"},"level":"error","message":"Error in processWithGPT: 403 Project `proj_xixi24RMpT7NuUV76gbAHKyZ` does not have access to model `gpt-4-1106-preview`","param":null,"request_id":"req_6314586e036016e9a912a21d58ae6778","stack":"Error: 403 Project `proj_xixi24RMpT7NuUV76gbAHKyZ` does not have access to model `gpt-4-1106-preview`\n    at APIError.generate (D:\\Kaser\\node_modules\\openai\\error.js:51:20)\n    at OpenAI.makeStatusError (D:\\Kaser\\node_modules\\openai\\core.js:293:33)\n    at OpenAI.makeRequest (D:\\Kaser\\node_modules\\openai\\core.js:337:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processWithGPT (D:\\Kaser\\src\\services\\ai\\gpt\\client.js:123:28)\n    at async handleText (D:\\Kaser\\src\\workers\\message\\text.js:90:26)\n    at async D:\\Kaser\\src\\workers\\message\\index.js:25:13\n    at async execute (D:\\Kaser\\node_modules\\telegraf\\lib\\composer.js:518:17)\n    at async D:\\Kaser\\node_modules\\telegraf\\lib\\composer.js:519:21\n    at async execute (D:\\Kaser\\node_modules\\telegraf\\lib\\composer.js:518:17)","status":403,"timestamp":"2025-01-22T00:02:18.495Z","type":"invalid_request_error"}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-22T00:03:08.563Z"}
{"level":"info","message":"Successfully connected to MongoDB","timestamp":"2025-01-22T00:03:10.212Z"}
{"level":"info","message":"Message handlers setup completed","timestamp":"2025-01-22T00:03:10.214Z"}
{"level":"info","message":"Bot setup completed successfully","timestamp":"2025-01-22T00:03:10.215Z"}
{"chatType":"group","isDirectMention":false,"isGroup":true,"isReplyToBot":true,"level":"info","message":"Processing message","timestamp":"2025-01-22T00:03:20.985Z"}
{"chatId":-4724278027,"chatTitle":"Elmobde3 Requests","from":"Youssef","level":"info","message":"Getting group context","messageId":1626,"replyToMessage":{"from":"KaserTest_bot","text":"أنت أكيد معانا يوسف ، بس في موضوع استخراج الصوت ، الموضوع محتاج شوية دقة . بالنسبة لكفاءة استخراج الصوت ، الأمور ممكن تكون معقدة شوية ، لكن ممكن نستخدم تقنيات حديثة لتحسين الجودة . <b>دي بعض النقاط المهمة</b> : 1 . <b><b>اختيار الميكروفون</b></b> : لازم يكون عندك ميكروفون كويس لجودة صوت أفضل . 2 . <b><b>البيئة</b></b> : حاول تسجل في مكان هادي عشان تقلل الضوضاء . 3 . <b><b>التقنيات</b></b> : استخدام برامج لتحرير الصوت ممكن يساعد في تحسين الجودة . إذا عندك تفاصيل معينة بتفكر فيها ، ممكن أساعدك فيها كمان !"},"timestamp":"2025-01-22T00:03:21.278Z"}
{"context":{"currentMessage":{"from":"Youssef","text":"المهم كنا بنتكلم في ايه","timestamp":1737504200},"repliedToMessage":{"from":"KaserTest_bot","isBot":true,"text":"أنت أكيد معانا يوسف ، بس في موضوع استخراج الصوت ، الموضوع محتاج شوية دقة . بالنسبة لكفاءة استخراج الصوت ، الأمور ممكن تكون معقدة شوية ، لكن ممكن نستخدم تقنيات حديثة لتحسين الجودة . <b>دي بعض النقاط المهمة</b> : 1 . <b><b>اختيار الميكروفون</b></b> : لازم يكون عندك ميكروفون كويس لجودة صوت أفضل . 2 . <b><b>البيئة</b></b> : حاول تسجل في مكان هادي عشان تقلل الضوضاء . 3 . <b><b>التقنيات</b></b> : استخدام برامج لتحرير الصوت ممكن يساعد في تحسين الجودة . إذا عندك تفاصيل معينة بتفكر فيها ، ممكن أساعدك فيها كمان !","timestamp":1737503701}},"level":"info","message":"Created message context","timestamp":"2025-01-22T00:03:21.282Z"}
{"chatType":"group","isDirectMention":false,"isGroup":true,"isReplyToBot":true,"level":"info","message":"Processing message","timestamp":"2025-01-22T00:03:33.782Z"}
{"chatId":-4724278027,"chatTitle":"Elmobde3 Requests","from":"Youssef","level":"info","message":"Getting group context","messageId":1628,"replyToMessage":{"from":"KaserTest_bot","text":"أهلاً يوسُف ! كنا بنتكلم عن الموضوعات اللي تهمك ، هل فيه حاجة معينة حابب تتناقش فيها أو تسأل عنها ؟"},"timestamp":"2025-01-22T00:03:34.052Z"}
{"context":{"currentMessage":{"from":"Youssef","text":"لأ انا عاوز موضوع محدد","timestamp":1737504213},"repliedToMessage":{"from":"KaserTest_bot","isBot":true,"text":"أهلاً يوسُف ! كنا بنتكلم عن الموضوعات اللي تهمك ، هل فيه حاجة معينة حابب تتناقش فيها أو تسأل عنها ؟","timestamp":1737504203}},"level":"info","message":"Created message context","timestamp":"2025-01-22T00:03:34.055Z"}
{"chatType":"group","isDirectMention":false,"isGroup":true,"isReplyToBot":true,"level":"info","message":"Processing message","timestamp":"2025-01-22T00:03:49.103Z"}
{"chatId":-4724278027,"chatTitle":"Elmobde3 Requests","from":"Youssef","level":"info","message":"Getting group context","messageId":1630,"replyToMessage":{"from":"KaserTest_bot","text":"طيب ياغالي ، قول لي الموضوع اللي في بالك وانا معاك هنا أساعدك فيه . شو هو ؟"},"timestamp":"2025-01-22T00:03:49.373Z"}
{"context":{"currentMessage":{"from":"Youssef","text":"كنا بنتكلم عن ايه في المحادثة دي قبل كده","timestamp":1737504229},"repliedToMessage":{"from":"KaserTest_bot","isBot":true,"text":"طيب ياغالي ، قول لي الموضوع اللي في بالك وانا معاك هنا أساعدك فيه . شو هو ؟","timestamp":1737504215}},"level":"info","message":"Created message context","timestamp":"2025-01-22T00:03:49.375Z"}
{"level":"warn","message":"MongoDB disconnected","timestamp":"2025-01-22T00:04:26.065Z"}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-22T00:05:39.422Z"}
{"level":"info","message":"Successfully connected to MongoDB","timestamp":"2025-01-22T00:05:41.491Z"}
{"level":"info","message":"Message handlers setup completed","timestamp":"2025-01-22T00:05:41.493Z"}
{"level":"info","message":"Bot setup completed successfully","timestamp":"2025-01-22T00:05:41.494Z"}
{"chatType":"group","isDirectMention":false,"isGroup":true,"isReplyToBot":true,"level":"info","message":"Processing message","timestamp":"2025-01-22T00:05:45.283Z"}
{"chatId":-4724278027,"chatTitle":"Elmobde3 Requests","from":"Youssef","level":"info","message":"Getting group context","messageId":1632,"replyToMessage":{"from":"KaserTest_bot","text":"أنت أكيد معانا يوسف ، بس في موضوع استخراج الصوت ، الموضوع محتاج شوية دقة . بالنسبة لكفاءة استخراج الصوت ، الأمور ممكن تكون معقدة شوية ، لكن ممكن نستخدم تقنيات حديثة لتحسين الجودة . <b>دي بعض النقاط المهمة</b> : 1 . <b><b>اختيار الميكروفون</b></b> : لازم يكون عندك ميكروفون كويس لجودة صوت أفضل . 2 . <b><b>البيئة</b></b> : حاول تسجل في مكان هادي عشان تقلل الضوضاء . 3 . <b><b>التقنيات</b></b> : استخدام برامج لتحرير الصوت ممكن يساعد في تحسين الجودة . إذا عندك تفاصيل معينة بتفكر فيها ، ممكن أساعدك فيها كمان !"},"timestamp":"2025-01-22T00:05:45.562Z"}
{"context":{"currentMessage":{"from":"Youssef","text":"عامل ابه","timestamp":1737504345},"repliedToMessage":{"from":"KaserTest_bot","isBot":true,"text":"أنت أكيد معانا يوسف ، بس في موضوع استخراج الصوت ، الموضوع محتاج شوية دقة . بالنسبة لكفاءة استخراج الصوت ، الأمور ممكن تكون معقدة شوية ، لكن ممكن نستخدم تقنيات حديثة لتحسين الجودة . <b>دي بعض النقاط المهمة</b> : 1 . <b><b>اختيار الميكروفون</b></b> : لازم يكون عندك ميكروفون كويس لجودة صوت أفضل . 2 . <b><b>البيئة</b></b> : حاول تسجل في مكان هادي عشان تقلل الضوضاء . 3 . <b><b>التقنيات</b></b> : استخدام برامج لتحرير الصوت ممكن يساعد في تحسين الجودة . إذا عندك تفاصيل معينة بتفكر فيها ، ممكن أساعدك فيها كمان !","timestamp":1737503701}},"level":"info","message":"Created message context","timestamp":"2025-01-22T00:05:45.565Z"}
{"level":"info","message":"Message blocked due to inappropriate content","pattern":"conversation","processingTime":0,"timestamp":"2025-01-22T00:05:46.456Z","tokens":439}
{"chatType":"group","isDirectMention":false,"isGroup":true,"isReplyToBot":true,"level":"info","message":"Processing message","timestamp":"2025-01-22T00:05:56.229Z"}
{"chatId":-4724278027,"chatTitle":"Elmobde3 Requests","from":"Youssef","level":"info","message":"Getting group context","messageId":1634,"replyToMessage":{"from":"KaserTest_bot","text":"أنت أكيد معانا يوسف ، بس في موضوع استخراج الصوت ، الموضوع محتاج شوية دقة . بالنسبة لكفاءة استخراج الصوت ، الأمور ممكن تكون معقدة شوية ، لكن ممكن نستخدم تقنيات حديثة لتحسين الجودة . <b>دي بعض النقاط المهمة</b> : 1 . <b><b>اختيار الميكروفون</b></b> : لازم يكون عندك ميكروفون كويس لجودة صوت أفضل . 2 . <b><b>البيئة</b></b> : حاول تسجل في مكان هادي عشان تقلل الضوضاء . 3 . <b><b>التقنيات</b></b> : استخدام برامج لتحرير الصوت ممكن يساعد في تحسين الجودة . إذا عندك تفاصيل معينة بتفكر فيها ، ممكن أساعدك فيها كمان !"},"timestamp":"2025-01-22T00:05:56.518Z"}
{"context":{"currentMessage":{"from":"Youssef","text":"عامل ايه","timestamp":1737504356},"repliedToMessage":{"from":"KaserTest_bot","isBot":true,"text":"أنت أكيد معانا يوسف ، بس في موضوع استخراج الصوت ، الموضوع محتاج شوية دقة . بالنسبة لكفاءة استخراج الصوت ، الأمور ممكن تكون معقدة شوية ، لكن ممكن نستخدم تقنيات حديثة لتحسين الجودة . <b>دي بعض النقاط المهمة</b> : 1 . <b><b>اختيار الميكروفون</b></b> : لازم يكون عندك ميكروفون كويس لجودة صوت أفضل . 2 . <b><b>البيئة</b></b> : حاول تسجل في مكان هادي عشان تقلل الضوضاء . 3 . <b><b>التقنيات</b></b> : استخدام برامج لتحرير الصوت ممكن يساعد في تحسين الجودة . إذا عندك تفاصيل معينة بتفكر فيها ، ممكن أساعدك فيها كمان !","timestamp":1737503701}},"level":"info","message":"Created message context","timestamp":"2025-01-22T00:05:56.522Z"}
{"chatType":"group","isDirectMention":false,"isGroup":true,"isReplyToBot":true,"level":"info","message":"Processing message","timestamp":"2025-01-22T00:06:18.080Z"}
{"chatId":-4724278027,"chatTitle":"Elmobde3 Requests","from":"Youssef","level":"info","message":"Getting group context","messageId":1636,"replyToMessage":{"from":"KaserTest_bot","text":"أنا تمام ، شكراً لسؤالك يوسف ! وأنت ، عامل ايه ؟ كل شيء تمام معاك ؟"},"timestamp":"2025-01-22T00:06:18.351Z"}
{"context":{"currentMessage":{"from":"Youssef","text":"طيب عاوز حاجة عشان رايح انام بقه","timestamp":1737504378},"repliedToMessage":{"from":"KaserTest_bot","isBot":true,"text":"أنا تمام ، شكراً لسؤالك يوسف ! وأنت ، عامل ايه ؟ كل شيء تمام معاك ؟","timestamp":1737504358}},"level":"info","message":"Created message context","timestamp":"2025-01-22T00:06:18.353Z"}
{"chatType":"group","isDirectMention":false,"isGroup":true,"isReplyToBot":true,"level":"info","message":"Processing message","timestamp":"2025-01-22T00:06:32.843Z"}
{"chatId":-4724278027,"chatTitle":"Elmobde3 Requests","from":"Youssef","level":"info","message":"Getting group context","messageId":1638,"replyToMessage":{"from":"KaserTest_bot","text":"أفهمك جيداً يوسف ، النوم مهم جداً للصحة . قبل ما تنام ، يفضل تقفل الأجهزة الإلكترونية وتقرأ شوية من كتاب تحبه أو تستمع لموسيقى هادئة . كمان حاول تسترخي شوية وتنفس بعمق . إن شاء الله نوم هادي ومريح ! هل عندك أشياء معينة بتحب تعملها قبل النوم ؟"},"timestamp":"2025-01-22T00:06:33.115Z"}
{"context":{"currentMessage":{"from":"Youssef","text":"لأ الموسيقى حرام","timestamp":1737504392},"repliedToMessage":{"from":"KaserTest_bot","isBot":true,"text":"أفهمك جيداً يوسف ، النوم مهم جداً للصحة . قبل ما تنام ، يفضل تقفل الأجهزة الإلكترونية وتقرأ شوية من كتاب تحبه أو تستمع لموسيقى هادئة . كمان حاول تسترخي شوية وتنفس بعمق . إن شاء الله نوم هادي ومريح ! هل عندك أشياء معينة بتحب تعملها قبل النوم ؟","timestamp":1737504381}},"level":"info","message":"Created message context","timestamp":"2025-01-22T00:06:33.118Z"}
{"chatType":"group","isDirectMention":false,"isGroup":true,"isReplyToBot":true,"level":"info","message":"Processing message","timestamp":"2025-01-22T00:06:47.014Z"}
{"chatId":-4724278027,"chatTitle":"Elmobde3 Requests","from":"Youssef","level":"info","message":"Getting group context","messageId":1640,"replyToMessage":{"from":"KaserTest_bot","text":"صحيح يوسف ، الموسيقى تعتبر محرمة في الإسلام . إذا كان لديك أي اهتمامات أخرى أو هوايات ممكنة ، يمكننا نتحدث عنها . مثلاً ، هل تحب القراءة أو الرياضة ؟"},"timestamp":"2025-01-22T00:06:47.290Z"}
{"context":{"currentMessage":{"from":"Youssef","text":"ماشي بس انا رايح انام متشغلنيش بقه","timestamp":1737504406},"repliedToMessage":{"from":"KaserTest_bot","isBot":true,"text":"صحيح يوسف ، الموسيقى تعتبر محرمة في الإسلام . إذا كان لديك أي اهتمامات أخرى أو هوايات ممكنة ، يمكننا نتحدث عنها . مثلاً ، هل تحب القراءة أو الرياضة ؟","timestamp":1737504395}},"level":"info","message":"Created message context","timestamp":"2025-01-22T00:06:47.291Z"}
{"expiresAt":"2025-01-23T00:06:49.464Z","level":"info","message":"Response cached","pattern":"question","timestamp":"2025-01-22T00:06:49.623Z"}
{"chatType":"group","isDirectMention":false,"isGroup":true,"isReplyToBot":false,"level":"info","message":"Processing message","timestamp":"2025-01-22T00:07:49.226Z"}
{"chatType":"private","isDirectMention":false,"isGroup":false,"isReplyToBot":false,"level":"info","message":"Processing message","timestamp":"2025-01-22T00:09:25.877Z"}
{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.caches index: key_1 dup key: { key: \"greeting:مرحبا\" }","index":0,"keyPattern":{"key":1},"keyValue":{"key":"greeting:مرحبا"}},"index":0,"keyPattern":{"key":1},"keyValue":{"key":"greeting:مرحبا"},"level":"error","message":"Error in processWithGPT: E11000 duplicate key error collection: test.caches index: key_1 dup key: { key: \"greeting:مرحبا\" }","stack":"MongoServerError: E11000 duplicate key error collection: test.caches index: key_1 dup key: { key: \"greeting:مرحبا\" }\n    at InsertOneOperation.execute (D:\\Kaser\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (D:\\Kaser\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:203:20)\n    at async executeOperation (D:\\Kaser\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:73:16)\n    at async Collection.insertOne (D:\\Kaser\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-01-22T00:09:27.656Z"}
{"chatType":"private","isDirectMention":false,"isGroup":false,"isReplyToBot":false,"level":"info","message":"Processing message","timestamp":"2025-01-22T00:09:49.772Z"}
{"chatType":"private","isDirectMention":false,"isGroup":false,"isReplyToBot":false,"level":"info","message":"Processing message","timestamp":"2025-01-22T00:09:59.516Z"}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-22T00:10:50.360Z"}
{"level":"info","message":"Successfully connected to MongoDB","timestamp":"2025-01-22T00:10:52.188Z"}
{"level":"info","message":"Message handlers setup completed","timestamp":"2025-01-22T00:10:52.190Z"}
{"level":"info","message":"Bot setup completed successfully","timestamp":"2025-01-22T00:10:52.191Z"}
{"chatType":"private","isDirectMention":false,"isGroup":false,"isReplyToBot":false,"level":"info","message":"Processing message","timestamp":"2025-01-22T00:10:54.418Z"}
{"contextLength":1166,"level":"info","message":"Sending request to GPT","messageLength":5,"pattern":"greeting","timestamp":"2025-01-22T00:10:54.713Z"}
{"cost":0.00007739999999999998,"level":"info","message":"GPT response received","processingTime":1333,"timestamp":"2025-01-22T00:10:56.046Z","tokens":{"completion":21,"prompt":432,"total":453}}
{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.caches index: key_1 dup key: { key: \"greeting:مرحبا\" }","index":0,"keyPattern":{"key":1},"keyValue":{"key":"greeting:مرحبا"}},"index":0,"keyPattern":{"key":1},"keyValue":{"key":"greeting:مرحبا"},"level":"error","message":"Error in processWithGPT: E11000 duplicate key error collection: test.caches index: key_1 dup key: { key: \"greeting:مرحبا\" }","stack":"MongoServerError: E11000 duplicate key error collection: test.caches index: key_1 dup key: { key: \"greeting:مرحبا\" }\n    at InsertOneOperation.execute (D:\\Kaser\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (D:\\Kaser\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:203:20)\n    at async executeOperation (D:\\Kaser\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:73:16)\n    at async Collection.insertOne (D:\\Kaser\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-01-22T00:10:56.214Z"}
{"chatId":6663578948,"level":"info","message":"Message processed","messageId":1649,"summaryLength":0,"timestamp":"2025-01-22T00:10:56.218Z","tokens":{"cost":0,"total":0}}
{"chatType":"private","isDirectMention":false,"isGroup":false,"isReplyToBot":false,"level":"info","message":"Processing message","timestamp":"2025-01-22T00:10:59.981Z"}
{"contextLength":1166,"level":"info","message":"Sending request to GPT","messageLength":5,"pattern":"greeting","timestamp":"2025-01-22T00:11:00.272Z"}
{"cost":0.00008219999999999999,"level":"info","message":"GPT response received","processingTime":1370,"timestamp":"2025-01-22T00:11:01.642Z","tokens":{"completion":29,"prompt":432,"total":461}}
{"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.caches index: key_1 dup key: { key: \"greeting:مرحبا\" }","index":0,"keyPattern":{"key":1},"keyValue":{"key":"greeting:مرحبا"}},"index":0,"keyPattern":{"key":1},"keyValue":{"key":"greeting:مرحبا"},"level":"error","message":"Error in processWithGPT: E11000 duplicate key error collection: test.caches index: key_1 dup key: { key: \"greeting:مرحبا\" }","stack":"MongoServerError: E11000 duplicate key error collection: test.caches index: key_1 dup key: { key: \"greeting:مرحبا\" }\n    at InsertOneOperation.execute (D:\\Kaser\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (D:\\Kaser\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:203:20)\n    at async executeOperation (D:\\Kaser\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:73:16)\n    at async Collection.insertOne (D:\\Kaser\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-01-22T00:11:01.793Z"}
{"chatId":6663578948,"level":"info","message":"Message processed","messageId":1651,"summaryLength":0,"timestamp":"2025-01-22T00:11:01.797Z","tokens":{"cost":0,"total":0}}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-22T00:11:52.132Z"}
{"level":"info","message":"Successfully connected to MongoDB","timestamp":"2025-01-22T00:11:53.974Z"}
{"level":"info","message":"Message handlers setup completed","timestamp":"2025-01-22T00:11:53.976Z"}
{"level":"info","message":"Bot setup completed successfully","timestamp":"2025-01-22T00:11:53.977Z"}
{"chatType":"private","isDirectMention":false,"isGroup":false,"isReplyToBot":false,"level":"info","message":"Processing message","timestamp":"2025-01-22T00:11:58.726Z"}
{"contextLength":1187,"level":"info","message":"Sending request to GPT","messageLength":8,"pattern":"conversation","timestamp":"2025-01-22T00:11:59.031Z"}
{"cost":0.00008025,"level":"info","message":"GPT response received","processingTime":1395,"timestamp":"2025-01-22T00:12:00.426Z","tokens":{"completion":25,"prompt":435,"total":460}}
{"chatId":6663578948,"level":"info","message":"Message processed","messageId":1653,"processingTime":1397,"summaryLength":0,"timestamp":"2025-01-22T00:12:00.429Z","tokens":{"completion":25,"cost":0.00008025,"prompt":435,"total":460}}
{"level":"info","message":"Image cache initialized with max size: 5000","timestamp":"2025-01-22T00:13:09.965Z"}
{"level":"info","message":"Successfully connected to MongoDB","timestamp":"2025-01-22T00:13:12.012Z"}
{"level":"info","message":"Message handlers setup completed","timestamp":"2025-01-22T00:13:12.014Z"}
{"level":"info","message":"Bot setup completed successfully","timestamp":"2025-01-22T00:13:12.015Z"}
{"chatType":"private","isDirectMention":false,"isGroup":false,"isReplyToBot":false,"level":"info","message":"Processing message","timestamp":"2025-01-22T00:13:17.541Z"}
{"chatId":6663578948,"level":"info","message":"Message processed","messageId":1655,"processingTime":0,"summaryLength":0,"timestamp":"2025-01-22T00:13:18.110Z","tokens":{"completion":0,"cost":0,"prompt":0,"total":0}}
{"chatType":"private","isDirectMention":false,"isGroup":false,"isReplyToBot":false,"level":"info","message":"Processing message","timestamp":"2025-01-22T00:13:23.075Z"}
{"chatId":6663578948,"level":"info","message":"Message processed","messageId":1657,"processingTime":1531,"summaryLength":0,"timestamp":"2025-01-22T00:13:25.021Z","tokens":{"completion":31,"cost":0.0000921,"prompt":490,"total":521}}
{"chatType":"private","isDirectMention":false,"isGroup":false,"isReplyToBot":false,"level":"info","message":"Processing message","timestamp":"2025-01-22T00:13:45.554Z"}
{"chatId":6663578948,"level":"info","message":"Message processed","messageId":1659,"processingTime":1547,"summaryLength":0,"timestamp":"2025-01-22T00:13:47.518Z","tokens":{"completion":40,"cost":0.0000975,"prompt":490,"total":530}}
{"chatType":"group","isDirectMention":false,"isGroup":true,"isReplyToBot":true,"level":"info","message":"Processing message","timestamp":"2025-01-22T00:14:04.232Z"}
{"chatId":-4724278027,"chatTitle":"Elmobde3 Requests","from":"Youssef","level":"info","message":"Getting group context","messageId":1661,"replyToMessage":{"from":"KaserTest_bot","text":"أفهمك تماماً يوسف ، النوم مهم جداً . خذ راحتك ونام كويس ، وأنا هنا لو احتجت أي حاجة بعدين . تصبح على خير ! 🌙"},"timestamp":"2025-01-22T00:14:04.507Z"}
{"context":{"currentMessage":{"from":"Youssef","text":".","timestamp":1737504844},"repliedToMessage":{"from":"KaserTest_bot","isBot":true,"text":"أفهمك تماماً يوسف ، النوم مهم جداً . خذ راحتك ونام كويس ، وأنا هنا لو احتجت أي حاجة بعدين . تصبح على خير ! 🌙","timestamp":1737504409}},"level":"info","message":"Created message context","timestamp":"2025-01-22T00:14:04.510Z"}
{"chatId":-4724278027,"level":"info","message":"Message processed","messageId":1661,"processingTime":1236,"summaryLength":0,"timestamp":"2025-01-22T00:14:05.886Z","tokens":{"completion":41,"cost":0.00009779999999999999,"prompt":488,"total":529}}
